<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RxNorm Extension Concept Class Graph • chariot2</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="RxNorm Extension Concept Class Graph">
<meta property="og:description" content="chariot2">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">chariot2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/atc-concept-class-graph.html">ATC Concept Class Graph</a>
    </li>
    <li>
      <a href="../articles/hemonc-concept-class-graph.html">HemOnc Concept Class Graph</a>
    </li>
    <li>
      <a href="../articles/rxnorm-extension-concept-class-graph.html">RxNorm Extension Concept Class Graph</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mpatel-cai/chariot2/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="rxnorm-extension-concept-class-graph_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>RxNorm Extension Concept Class Graph</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mpatel-cai/chariot2/blob/master/vignettes/rxnorm-extension-concept-class-graph.Rmd"><code>vignettes/rxnorm-extension-concept-class-graph.Rmd</code></a></small>
      <div class="hidden name"><code>rxnorm-extension-concept-class-graph.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mpatel-cai/chariot2">chariot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="co">#&gt; ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</span>
<span class="co">#&gt; ✓ ggplot2 3.3.5     ✓ purrr   0.3.4</span>
<span class="co">#&gt; ✓ tibble  3.1.3     ✓ dplyr   1.0.7</span>
<span class="co">#&gt; ✓ tidyr   1.1.3     ✓ stringr 1.4.0</span>
<span class="co">#&gt; ✓ readr   2.0.0     ✓ forcats 0.5.1</span>
<span class="co">#&gt; ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──</span>
<span class="co">#&gt; x dplyr::filter() masks stats::filter()</span>
<span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span></code></pre></div>
<p>This package creates a properly formatted output from the OMOP Vocabularies for consumption by the DiagrammeR package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Fetch from Postgres  </span>
<span class="va">nodes_and_edges</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/ne_fetch_concept_classes.html">ne_fetch_concept_classes</a></span><span class="op">(</span>conn_fun <span class="op">=</span> <span class="st">"pg13::local_connect()"</span><span class="op">)</span>
<span class="co">#&gt; [2021-08-06 16:22:05]    Connected to 'athena'</span>
<span class="co">#&gt; [2021-08-06 16:22:05]    ✓ Open connection</span>
<span class="co">#&gt; [2021-08-06 16:22:05]    ✓ JDBC connection</span>
<span class="co">#&gt; [2021-08-06 16:22:05]    SQL: SELECT * FROM public.setup_athena_log WHERE sa_datetime IN (SELECT max(sa_datetime) from public.setup_athena_log);</span>
<span class="co">#&gt; [2021-08-06 16:22:05]    Querying...</span>
<span class="co">#&gt; [2021-08-06 16:22:05]    Querying...complete</span>
<span class="co">#&gt; [2021-08-06 16:22:05]    ✓ Returned data has 1 row.</span>
<span class="co">#&gt; [2021-08-06 16:22:05]    Postgres connection to 'athena' closed</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Customize Nodes Attributes  </span>
<span class="va">nodes_and_edges</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/map_node_attributes.html">map_node_attributes</a></span><span class="op">(</span><span class="va">nodes_and_edges</span><span class="op">)</span>
<span class="co">#&gt; ℹ Shape from: standard_concept</span>
<span class="co">#&gt; ✓ All 3 unique values mapped.</span>
<span class="co">#&gt; ℹ Style from: standard_concept</span>
<span class="co">#&gt; ✓ All 3 unique values mapped.</span>
<span class="co">#&gt; ℹ Color from: vocabulary_id</span>
<span class="co">#&gt; ! 42 values not mapped: Supplier, Provider, US Census, Visit, UB04 Point of Origin, MDC, UB04 Pt dis status, CMS Place of Service, ABMS, Medicare Specialty, HES Specialty, CVX, UB04 Typ bill, CGI, SMQ, VA Class, NUCC, CDM, PPI, OXMIS, Multum, CCAM, OPCS4, CIM10, UK Biobank, KCD7, GGR, SNOMED Veterinary, JMDC, OPS, BDPM, CIEL, NCCD, VA Product, KDC, AMT, Read, DPD, OSM, EDI, dm+d, and SPL. Mapping to `other` value 'gray20'.</span>
<span class="co">#&gt; ℹ Fillcolor from: vocabulary_id</span>
<span class="co">#&gt; ! 42 values not mapped: Supplier, Provider, US Census, Visit, UB04 Point of Origin, MDC, UB04 Pt dis status, CMS Place of Service, ABMS, Medicare Specialty, HES Specialty, CVX, UB04 Typ bill, CGI, SMQ, VA Class, NUCC, CDM, PPI, OXMIS, Multum, CCAM, OPCS4, CIM10, UK Biobank, KCD7, GGR, SNOMED Veterinary, JMDC, OPS, BDPM, CIEL, NCCD, VA Product, KDC, AMT, Read, DPD, OSM, EDI, dm+d, and SPL. Mapping to `other` value 'gray20'.</span>
<span class="co">#&gt; ℹ Fontcolor from: standard_concept</span>
<span class="co">#&gt; ✓ All 3 unique values mapped.</span>
<span class="co">#&gt; ℹ 3 constant attributes added: fontsize, width, and height.</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Customize Edge Attributes</span>
<span class="va">nodes_and_edges</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/map_edge_attributes.html">map_edge_attributes</a></span><span class="op">(</span><span class="va">nodes_and_edges</span><span class="op">)</span>
<span class="co">#&gt; ✓ All 2 unique values mapped.</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Construct Final Graph</span>
<span class="va">final_graph</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/construct_graph.html">construct_graph</a></span><span class="op">(</span><span class="va">nodes_and_edges</span><span class="op">)</span>
<span class="va">final_graph</span><span class="op">$</span><span class="va">graph</span>
<span class="co">#&gt; Warning in if (class(newval) == "factor") {: the condition has length &gt; 1 and</span>
<span class="co">#&gt; only the first element will be used</span>

<span class="co">#&gt; Warning in if (class(newval) == "factor") {: the condition has length &gt; 1 and</span>
<span class="co">#&gt; only the first element will be used</span>

<span class="co">#&gt; Warning in if (class(newval) == "factor") {: the condition has length &gt; 1 and</span>
<span class="co">#&gt; only the first element will be used</span>

<span class="co">#&gt; Warning in if (class(newval) == "factor") {: the condition has length &gt; 1 and</span>
<span class="co">#&gt; only the first element will be used</span>

<span class="co">#&gt; Warning in if (class(newval) == "factor") {: the condition has length &gt; 1 and</span>
<span class="co">#&gt; only the first element will be used</span>

<span class="co">#&gt; Warning in if (class(newval) == "factor") {: the condition has length &gt; 1 and</span>
<span class="co">#&gt; only the first element will be used</span>

<span class="co">#&gt; Warning in if (class(newval) == "factor") {: the condition has length &gt; 1 and</span>
<span class="co">#&gt; only the first element will be used</span>

<span class="co">#&gt; Warning in if (class(newval) == "factor") {: the condition has length &gt; 1 and</span>
<span class="co">#&gt; only the first element will be used</span>
<span class="co">#&gt; DiagrammeR Graph // 671 nodes / 64910 edges</span>
<span class="co">#&gt;   -- directed / disconnected / property graph</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   NODES / type: 264 vals - complete / label: 446 vals - complete</span>
<span class="co">#&gt;     -- 12 additional node attributes (domain_id, vocabulary_id, concept_class_id + 9 more)</span>
<span class="co">#&gt;   EDGES / rel: 474 vals - complete                         info: `get_edge_df()`</span>
<span class="co">#&gt;     -- 19 additional edge attributes (label_1, label_2, relationship_id + 16 more)</span>
<span class="co">#&gt;   SELECTION / &lt;none&gt;</span>
<span class="co">#&gt;   CACHE / &lt;none&gt;</span>
<span class="co">#&gt;   GLOBAL ATTRS / 18 are set                 info: `get_global_graph_attr_info()`</span>
<span class="co">#&gt;   GRAPH ACTIONS / &lt;none&gt;</span>
<span class="co">#&gt;   GRAPH LOG / () -&gt; ()</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rich-iannone/DiagrammeR">DiagrammeR</a></span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">final_graph</span><span class="op">$</span><span class="va">graph</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/DiagrammeR/man/select_nodes.html">select_nodes</a></span><span class="op">(</span><span class="va">vocabulary_id</span> <span class="op">==</span> <span class="st">"RxNorm Extension"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/DiagrammeR/man/select_nodes.html">select_nodes</a></span><span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"Ingredient"</span>, set_op <span class="op">=</span> <span class="st">"intersect"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/DiagrammeR/man/trav_out_edge.html">trav_out_edge</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/DiagrammeR/man/select_nodes.html">select_nodes</a></span><span class="op">(</span><span class="va">vocabulary_id</span> <span class="op">==</span> <span class="st">"RxNorm Extension"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/DiagrammeR/man/transform_to_subgraph_ws.html">transform_to_subgraph_ws</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/DiagrammeR/man/render_graph.html">render_graph</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Meera Patel.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
